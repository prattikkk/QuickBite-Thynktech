# Test configuration using existing Docker PostgreSQL container
spring.datasource.url=jdbc:postgresql://localhost:5432/quickbite
spring.datasource.username=dbuser
spring.datasource.password=dbpass
spring.flyway.enabled=true
spring.flyway.validate-on-migrate=false
spring.jpa.hibernate.ddl-auto=validate

# Disable Redis caching in tests (uses simple in-memory cache)
spring.cache.type=simple

# Disable Redis auto-config to avoid connection issues when Redis is not running
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,org.springframework.boot.autoconfigure.data.redis.RedisRepositoriesAutoConfiguration

# Rate limiting — high limit to avoid interference in tests
rate-limit.requests-per-minute=10000
rate-limit.auth-requests-per-minute=10000

# Resilience4j — disable circuit breaker in tests
resilience4j.circuitbreaker.instances.stripe.register-health-indicator=false
